--------
layout: post
title: 元组和文件
categories: Python
tag: python学习手册
--------

* content
{:toc}


### 元组

元组不支持任何方法调用，但元组具有列表的大多数属性：

- 任意对象的有序集合
- 通过偏移存取
- 属于不可变序列类型
- 固定长度、异构、任意嵌套
- 对象引用的数组

#### 实际应用中的元组

元组没有方法，但支持字符串和列表的一般序列操作，如`+`，`*`

##### 元组的特殊语法：逗号和圆括号

##### 转换、方法以及不可变性

元组的不可变性只适用于元组本身顶层而并非其内容。

### 文件

内置open函数会创建一个Python文件对象，可以作为计算机上的一个文件链接。在调用open函数之后，你可以通过调用和返回文件对象的方法来读写相关外部文件。

#### 打开文件

` file=open（r‘路径’，‘处理模式’）` 
- 'r':默认值，输入打开文件
- ‘w':输出生成并打开文件
- 'a'：为在文件尾部追加内容而打开文件
- '+': 同时输入和输出，即可对相同的文件读写

#### 使用文件

- 文件迭代器是最好的读取工具
- 内容是字符串，不是对象  
若想转换格式，需自己转换

- close是通常选项

默认怀部下，输出文件总是**缓冲**的，这意味着写入的文本可能不会立即自动从内存转换到硬盘；**关闭一个文件**，或者运行其**flush方法**，迫使缓存的数据进入硬盘。

#### 实际应用中的文件

##### Python 3.0中的文本和二进制文件

文本和二进制文件在Python3.0中有区别；
- 文本文件把内容表示为常规的str字符串
- 二进制文件把内容表示为一个特殊的bytes字符串类型，所以必须用bytets字符串处理二进制文件。

##### 在文件中存储并解析Python对象

- 输入后需将字符串转换成自己需要的格式。
- 输出时需自己对字符串格式进行转换（字符串格式化），并加**终止符**`\n`
- 文件是缓冲的并且是可查找的

##### 用pickle存储Python的原生对象

- pickle.dump()
- pickle.load(0

##### 文件中打包二进制数据的存储与解析

struct模块；能够构造并解析打包的二进制数据。

##### 文件上下文管理器

- with....as...
- try:....finally:...

##### 其他文件工具

除open外，还有：

- 标准流：sys模块预先打开的文件对象
- os模块中的描述文件
- sockets、pipes和FIFO文件
- 通过键来存取的文件
- Shell命令流：eg。os.popen,subprocess.Popen

#### 对象灵活性

#### 引用VS拷贝

**赋值操作储存对象的引用，而不是这些对象的拷贝。**

列表是可变的，修改一个列表可能会引起其它引用该对象的变量的改变。

拷贝的方法：
- 分片表达式，**仅顶层复制，不能复制嵌套的数据结构。**
- 字典copy方法，**仅顶层复制，不能复制嵌套的数据结构。**
- 内置函数，如list
- copy标准库，可以完整复制

#### 比较、相等性和真值

- `==` 操作符测试值的相等性
- `is` 表达式测试对象的一致性

#### Python中真和假的含义

- 数字非零，为真
- 其他对象如果非空，为真

##### None对象

**None为真对象，有一块内存**

##### bool类型

#### Python的类型层次

#### Type 对象

**类型**本身在Python中也是**对象类型**。（比较抽象）

#### Python中的其他类型

- 正则表达式对象
- DBM文件
- GUI组件
- 网络套接字
- ...

##### 内置类型陷阱

##### 赋值生成引用，而不是拷贝

##### 重复能够增加层次深度

##### 留意循环数据结构

##### 不可变类型不可以在原处改变
