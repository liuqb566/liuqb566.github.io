---
layout: post
title: 第8章 列表与字典
date: 2016-12-07
categories: Python
tag: Python学习手册
---

* content
{:toc}


### 列表

主要属性：
- 任意对象的有序集合
- 通过偏移读取
- 可变长度、异构以及任意嵌套
- 属于可变序列的分类
- 对象引用数组

运行‘help（list）`或`dir（list）`查看list方法的完整列表清单。

#### 实际应用中的列表

##### 基本列表操作

##### 列表迭代和解析

##### 索引、分片和矩阵

**索引**的结果是你指定的偏移处的**对象**（无论对象是什么类型），而对列表进行**分片**时往往返回一个**新的列表**。

##### 原处修改列表

本节的操作都可以直接修改对象，而不会像字符串那样强迫你建立一个新的拷贝。

###### 索引与分片的赋值

`L[1:2]=[]`实际上是删除操作。  

被赋值的序列长度不一定要与被赋值的分片的长度相匹配。

###### 列表方法调用

方法就是附属于特定对象的函数（实际上是引用函数的属性）。

- `L.append（X）`与`L+[X]`的结果类似，不同的是，前者会**原地修改L**，而后者会生成**新的列表**。

- sort:原地对列表排序。**默认比较字符串，以递增的顺序进行排序**

`reverse`参数允许排序按照降序而不是升序进行

***
**注意：**`append`和`sort`是原处修改相关的列表对象，而结果**并没有返回列表**（实际上，两者都返回的值为**None**）。

如果编辑类似`L=L.append（x)`的语句，将不会得L修改后的值，即相当于`L=None`。
***
- reverse：原地反转列表
- extend：末端插入**多个**元素
- pop：末端删除**一个**元素
***
列表的pop方法和append方法常被联用，来实现快速的后进先出（LIFO，last-in-first-out）堆栈结构。
***

###### 其他常见列表操作 

- del语句在原处删除某项或某片段。

### 字典

主要属性：
- 通过键而不是偏移来读取
- 任意对象的无序集合
- 可变长度、异构、任意嵌套
- 属于可变映射类型
- 对象引用表（散列表）

**和列表一样，字典存储的是对象引用（不是拷贝）。**

#### 实际应用中的字典

##### 字典的基本操作

- len函数：返回幸元素的数目，即keys列表的长度。
- keys方法：返回字典中所有的键，将它们收集在一个**列表**中。

在Python3.0中，`list(D.keys())`:`keys`返回一个迭代器，而不是一个物理的列表，`list`调用迫使它一次生成所有的值。

#### 原处修改字典

#### 其他字典方法

- values：返回字典值列表
- items：返回（key，value）元组对
- get：当**键**不存在时，返回默认值（None或用户定义的默认值）
- update：类似合并
- pop：删除一个键并**返回**它的值

#### 语言表

#### 字典用法注意事

- 序列运算无效
- 对新索引赋值会添加项
- 键不一定总是字符串

##### 使用字典模拟灵活的列表

##### 字典用于稀疏数据结构

##### 避免missing-key错误

##### 使用字典作为“记录”

##### 创建字典的其他方法

```
 # 一
{'name':'mel','age':45}
 # 二
D = {}
D['name']='mel'
D['age']=45
 # 三
dict(name='mel',age=45)
 # 四
dict([('name','mel'),('age',45)])
 # 初始化
dict.fromkeys(['a','b'],0)
```

##### 字典解析

- zip函数：构建字典

##### 字典视图

在Python3.0中，字典的keys、values和items都返回视图对象。**视图对象是可迭代的，即对象每次产生一个结果项，而不是在内存中立即产生结果列表（即一次性产生和存储所有结果）**。所以，为了显示它们的值，必须通过内置函数list来运行这3个方法的结果。

##### 字典的视图和几何

##### 排序字典

- 手动地转换一个列表
- 在一个键视图或字典自身上且用sorted调用

##### 字典大小比较无效

##### has_key方法已死：in永生


