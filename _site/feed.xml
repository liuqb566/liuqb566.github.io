<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title></title>
    <description>好记性不如写博文！</description>
    <link>http://liuqibao.me/</link>
    <atom:link href="http://liuqibao.me/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Fri, 27 Oct 2017 16:30:04 +0800</pubDate>
    <lastBuildDate>Fri, 27 Oct 2017 16:30:04 +0800</lastBuildDate>
    <generator>Jekyll v3.6.0</generator>
    
      <item>
        <title>linux下的中文输入问题</title>
        <description>&lt;h3 id=&quot;fcitx&quot;&gt;解决由于环境变量引起的软件不能使用中文输入法fcitx的问题&lt;/h3&gt;

&lt;p&gt;linux 中的环境变量一直是一个让人头庝的问题，很多安装程序出现问题要不是权限，要不就是环境变量不对了。&lt;/p&gt;

&lt;p&gt;一些软件，例如wps、rstudio、foxitreader等有时会无法使用 fcitx 输入法，也就无法输入中文，原因是环境变量没有设定。&lt;/p&gt;

&lt;h4 id=&quot;section&quot;&gt;解决办法&lt;/h4&gt;

&lt;p&gt;在启动脚本中写入
&lt;code class=&quot;highlighter-rouge&quot;&gt;
export XMODIFIERS=&quot;@im=fcitx&quot;
export QT_IM_MODULE=&quot;fcitx&quot;
&lt;/code&gt;
重启就可以了。&lt;/p&gt;

&lt;p&gt;需要注意的是，有些软件的启动脚本在&lt;code class=&quot;highlighter-rouge&quot;&gt;/usr/bin/&lt;/code&gt;目录下，例如wps在&lt;code class=&quot;highlighter-rouge&quot;&gt;/usr/bin/wps 或 wpp 或 et&lt;/code&gt;；而Foxitreader的在安装目录下，即&lt;code class=&quot;highlighter-rouge&quot;&gt;Foxitreader/Foxitreader.sh&lt;/code&gt;&lt;/p&gt;
</description>
        <pubDate>Wed, 28 Jun 2017 00:00:00 +0800</pubDate>
        <link>http://liuqibao.me/2017/06/28/input-Chinese-in-linux/</link>
        <guid isPermaLink="true">http://liuqibao.me/2017/06/28/input-Chinese-in-linux/</guid>
        
        <category>input</category>
        
        
        <category>Linux</category>
        
      </item>
    
      <item>
        <title>faststructure 的简单使用</title>
        <description>&lt;p&gt;*content&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://rajanil.github.io/fastStructure/&quot;&gt;faststructure&lt;/a&gt; 比 structure 的计算速度更快，适合数据量较大的群体结构计算。&lt;/p&gt;

&lt;h3 id=&quot;section&quot;&gt;1. 安装&lt;/h3&gt;

&lt;p&gt;faststructure 是基于 python 的脚本软件，首先需要一些 python 包
1. Numpy
2. Scipy
3. Cython
4. GNU Scientific Library&lt;/p&gt;

&lt;p&gt;前 3 建议用 pip 安装。
gsl（GNU Scientific Library）需要下载安装：
&lt;code class=&quot;highlighter-rouge&quot;&gt;
wget http://mirrors.ustc.edu.cn/gnu/gsl/gsl-latest.tar.gz
cd gsl-2.4
sudo ./configure
sudo make 
sudo make install
&lt;/code&gt;
fastStruce 的安装按官网步骤，没难点。&lt;/p&gt;

&lt;h3 id=&quot;section-1&quot;&gt;2. 使用&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;血缘关系计算
```
python structure.py&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Here is how you can use this script&lt;/p&gt;

&lt;p&gt;Usage: python structure.py
-K &lt;int&gt;   (number of populations) # 注意 K 是大写
--input=&lt;file&gt;   (/path/to/input/file)
--output=&lt;file&gt;   (/path/to/output/file)
--tol=&lt;float&gt;   (convergence criterion; default: 10e-6)
--prior={simple,logistic}   (choice of prior; default: simple)
--cv=&lt;int&gt;   (number of test sets for cross-validation, 0 implies no CV step; default: 0)
--format={bed,str} (format of input file; default: bed)
--full   (to output all variational parameters; optional)
--seed=&lt;int&gt;   (manually specify seed for random number generator; optional)
```&lt;/int&gt;&lt;/int&gt;&lt;/float&gt;&lt;/file&gt;&lt;/file&gt;&lt;/int&gt;&lt;/p&gt;

&lt;p&gt;最主要的参数有三个：
- -K：手动设定群体数
- –input：plink bed格式
- –output：输出文件名&lt;/p&gt;

&lt;p&gt;例：&lt;code class=&quot;highlighter-rouge&quot;&gt;python structure.py -K 3 --input=genotypes --output=genotypes_output&lt;/code&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;选择合适的 K 值&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;chooseK.py 脚本用于选择合适的 K 值。
首先自己写循环计算 K=1~10，输出文件前缀假设为 testout_simple
命令：
&lt;code class=&quot;highlighter-rouge&quot;&gt;
$ python chooseK.py --input=test/testoutput_simple
&lt;/code&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;可视化&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;distruct.py 脚本用于可视化&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt; python distruct.py

 Here is how you can use this script

 Usage: python distruct.py
-K &amp;lt;int&amp;gt;  (number of populations)
--input=&amp;lt;file&amp;gt;  (/path/to/input/file; same as output flag passed to structure.py)
--output=&amp;lt;file&amp;gt;   (/path/to/output/file)
--popfile=&amp;lt;file&amp;gt;  (file with known categorical labels; optional)
--title=&amp;lt;figure title&amp;gt;  (a title for the figure; optional)
&lt;/div&gt;
&lt;p&gt;参数：
- -K：合适的 K 值
- –input：structure.py 的输出文件位置
- –output：输出文件，格式可以为.svg .pdf .jpg等
- –popfile：可以对分组使用不同的标签，每个样本一个标签，样本顺序要与 map 文件中的样本顺序相同。&lt;/p&gt;

&lt;p&gt;例：
&lt;code class=&quot;highlighter-rouge&quot;&gt;
python distruct.py -K 5 --input=test/testoutput_simple --output=test/testoutput_simple_distruct.svg
&lt;/code&gt;&lt;/p&gt;
</description>
        <pubDate>Wed, 21 Jun 2017 00:00:00 +0800</pubDate>
        <link>http://liuqibao.me/2017/06/21/faststructure-introduction/</link>
        <guid isPermaLink="true">http://liuqibao.me/2017/06/21/faststructure-introduction/</guid>
        
        <category>使用手册</category>
        
        
        <category>bioinformatics</category>
        
      </item>
    
      <item>
        <title>Parameter About Gragh In R</title>
        <description>&lt;h2 id=&quot;r-&quot;&gt;R 语言基础作图函数画图常用的参数&lt;/h2&gt;

&lt;p&gt;在 linux 上修图比较麻烦，因为没有 PS，没有 AI，而且 GIMP 又不会用，所以决定尝试直接用 R 生成最终的图片，所幸结果还可以。
图片格式、大小、分辨率都可以在 png、tiff、jpep 等指定。&lt;/p&gt;

&lt;h3 id=&quot;par&quot;&gt;图片布局用 par（）函数&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;mfrow/mfcol：设定图片的填充顺序，行/列，例如，mfrow=c（2，3），表示按行填充，两行三列&lt;/li&gt;
  &lt;li&gt;mgp：mgp=c（2.5,1,0）,第一个参数是坐标轴（边框）到轴标签的距离，单位是标签字符的大小；第二个参数是坐标轴到刻度的距离，第三个参数是与实际坐标轴的距离。&lt;/li&gt;
  &lt;li&gt;mar：mar=c（6，6，3，3），分别为下左上右的边距&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;如果需要调整标签大小，最好同时调整 mgp 和 mar 参数，否则标签太大会显示不完整；一般标签在 x 轴和 y 轴，所以下左可以稍大些。
这些参数也可以用在 png（）、jpeg（）等函数中&lt;/p&gt;

&lt;h3 id=&quot;section&quot;&gt;图片坐标轴和文字属性都有参数可以设定，如：&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;xlim、ylim&lt;/li&gt;
  &lt;li&gt;title&lt;/li&gt;
  &lt;li&gt;xlab&lt;/li&gt;
  &lt;li&gt;ylab&lt;/li&gt;
  &lt;li&gt;bty：设定边框&lt;/li&gt;
  &lt;li&gt;cex：点或线的大小&lt;/li&gt;
  &lt;li&gt;cex.axis：刻度大小&lt;/li&gt;
  &lt;li&gt;cex.lab：轴标签的大小&lt;/li&gt;
  &lt;li&gt;col&lt;/li&gt;
  &lt;li&gt;las：坐标方向（垂直或平行于坐标轴，0 或 1）
…
这里主要介绍 mtext，它可以向生成后的图片添加文本
&lt;code class=&quot;highlighter-rouge&quot;&gt;
mtext(text, side = 3, line = 0, outer = FALSE, at = NA,
    adj = NA, padj = NA, cex = NA, col = NA, font = NA, ...）
&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;几个常用参数
- text：要添加的文本，用 “” 引起来
- side：在哪边输出文本，1234，代表下左上右
- line：在距边框的距离，负数为向内
- adj：0 表示左对齐或下对齐，1 表示右对齐或上对齐
- at: 指定字符串的起始位置，例如 at=0.5，起始字符串与 x 轴 0.5 刻度对应，可以与 adj 搭配使用
- cex：字体大小
…&lt;/p&gt;

&lt;p&gt;需要注意的是，字符串大小不会与图片的大小同步调节，所以要多次尝试，找一个合适的大小。&lt;/p&gt;

</description>
        <pubDate>Tue, 16 May 2017 00:00:00 +0800</pubDate>
        <link>http://liuqibao.me/2017/05/16/parameter-about-gragh-in-R/</link>
        <guid isPermaLink="true">http://liuqibao.me/2017/05/16/parameter-about-gragh-in-R/</guid>
        
        
      </item>
    
      <item>
        <title>在linux下添加用户</title>
        <description>&lt;h2 id=&quot;useradd-&quot;&gt;在使用 useradd 命令时遇到的问题&lt;/h2&gt;

&lt;p&gt;useradd 是添加新用户的命令，具体参数不再详述。
这里主要记录一下遇到的一个小问题。
linux 版本：Ubuntu 16.04&lt;/p&gt;

&lt;h3 id=&quot;section&quot;&gt;问题1：没有家目录&lt;/h3&gt;

&lt;p&gt;原因：Ubuntu 系统中，使用 useradd 添加新用户需要使用 &lt;code class=&quot;highlighter-rouge&quot;&gt;-d&lt;/code&gt; 参数指定用户目录，若用户目录不存在，同时用 &lt;code class=&quot;highlighter-rouge&quot;&gt;-m&lt;/code&gt; 参数创建主目录。推测添加用户的老师当时没有加参数。
解决办法：没办法，找他新建主目录。&lt;/p&gt;

&lt;h3 id=&quot;bashrc-&quot;&gt;问题2：家目录下没有 .bashrc 文件&lt;/h3&gt;

&lt;p&gt;原因：不清楚
解决办法：从 &lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/skel/&lt;/code&gt; 中复制 &lt;code class=&quot;highlighter-rouge&quot;&gt;.bashrc&lt;/code&gt; 和 &lt;code class=&quot;highlighter-rouge&quot;&gt;.profile&lt;/code&gt; 到家目录&lt;/p&gt;

&lt;h3 id=&quot;source-&quot;&gt;问题3：source 命令不管用，提示找不到文件&lt;/h3&gt;

&lt;p&gt;原因：没有使用完整路径，但是在大多数系统不需要完整路径就能用，不清楚具体原因。（让我想起了 aspera 也是这毛病，linux 就是任性）
解决办法：使用完整路径 &lt;code class=&quot;highlighter-rouge&quot;&gt;source ./.bashrc&lt;/code&gt;&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;ps：
exec bash 命令会重启 shell，也就是你当前的 shell 正执行的命令会终止。
source .bashrc 可以在当前 shell 上更改配置。&lt;/p&gt;

</description>
        <pubDate>Tue, 16 May 2017 00:00:00 +0800</pubDate>
        <link>http://liuqibao.me/2017/05/16/problem-when-use-useradd-command/</link>
        <guid isPermaLink="true">http://liuqibao.me/2017/05/16/problem-when-use-useradd-command/</guid>
        
        <category>command</category>
        
        
        <category>Linux</category>
        
      </item>
    
      <item>
        <title>linux下编码问题</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#httpwwwitnosenetdetail6524108html&quot; id=&quot;markdown-toc-httpwwwitnosenetdetail6524108html&quot;&gt;&lt;a href=&quot;http://www.itnose.net/detail/6524108.html&quot;&gt;转&lt;/a&gt;&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#section&quot; id=&quot;markdown-toc-section&quot;&gt;查看文件编码&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#section-1&quot; id=&quot;markdown-toc-section-1&quot;&gt;文件编码转换&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-2&quot; id=&quot;markdown-toc-section-2&quot;&gt;文件名编码转换:&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;httpwwwitnosenetdetail6524108html&quot;&gt;&lt;a href=&quot;http://www.itnose.net/detail/6524108.html&quot;&gt;转&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;在 Linux 中操作 windows 下的文件，可能会经常遇到文件编码转换的问题。Windows中默认的文件格式是GBK(gb2312)，而Linux一般都是UTF-8。下面介绍一下，在Linux中如何查看文件的编码及如何进行对文件进行编码转换。&lt;/p&gt;

&lt;h3 id=&quot;section&quot;&gt;查看文件编码&lt;/h3&gt;
&lt;p&gt;在Linux中查看文件编码可以通过以下几种方式：
#### 在Vim中可以直接查看文件编码
&lt;code class=&quot;highlighter-rouge&quot;&gt;:set fileencoding&lt;/code&gt;
即可显示文件编码格式。
如果你只是想查看其它编码格式的文件或者想解决用Vim查看文件乱码的问题，那么你可以在
~/.vimrc 文件中添加以下内容：
&lt;code class=&quot;highlighter-rouge&quot;&gt;set encoding=utf-8 fileencodings=ucs-bom,utf-8,cp936&lt;/code&gt;
这样，就可以让vim自动识别文件编码（可以自动识别UTF-8或者GBK编码的文件），其实就是依照fileencodings提供的编码列表尝试，如果没有找到合适的编码，就用latin-1(ASCII)编码打开。&lt;/p&gt;

&lt;h4 id=&quot;section-1&quot;&gt;文件编码转换&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;在Vim中直接进行转换文件编码,比如将一个文件转换成utf-8格式
&lt;code class=&quot;highlighter-rouge&quot;&gt;:set fileencoding=utf-8&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;iconv 转换，iconv的命令格式如下：
&lt;code class=&quot;highlighter-rouge&quot;&gt;iconv -f encoding -t encoding inputfile&lt;/code&gt;
比如将一个UTF-8 编码的文件转换成GBK编码
&lt;code class=&quot;highlighter-rouge&quot;&gt;
iconv -f GBK -t UTF-8 file1 -o file2
iconv -f gbk -t utf8 linux常用命令.txt &amp;gt; linux常用命令.txt.utf8
&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;section-2&quot;&gt;文件名编码转换:&lt;/h3&gt;

&lt;p&gt;从Linux 往 windows拷贝文件或者从windows往Linux拷贝文件，有时会出现中文文件名乱码的情况，出现这种问题的原因是因为，windows的文件名 中文编码默认为GBK,而Linux中默认文件名编码为UTF8,由于编码不一致，所以导致了文件名乱码的问题，解决这个问题需要对文件名进行转码。
在Linux中专门提供了一种工具convmv进行文件名编码的转换，可以将文件名从GBK转换成UTF-8编码,或者从UTF-8转换到GBK。&lt;/p&gt;

&lt;p&gt;首先看一下你的系统上是否安装了convmv,如果没安装的话用:
&lt;code class=&quot;highlighter-rouge&quot;&gt;yum -y install convmv&lt;/code&gt;
安装。&lt;/p&gt;

&lt;p&gt;下面看一下convmv的具体用法：&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;convmv -f 源编码 -t 新编码 [选项] 文件名&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;常用参数：
-r 递归处理子文件夹
–notest 真正进行操作，请注意在默认情况下是不对文件进行真实操作的，而只是试验。
–list 显示所有支持的编码
–unescap 可以做一下转义，比如把%20变成空格
比如我们有一个utf8编码的文件名，转换成GBK编码，命令如下：
&lt;code class=&quot;highlighter-rouge&quot;&gt;
convmv -f UTF-8 -t GBK --notest utf8编码的文件名
&lt;/code&gt;
这样转换以后”utf8编码的文件名”会被转换成GBK编码（只是文件名编码的转换，文件内容不会发生变化）&lt;/p&gt;

&lt;p&gt;为什么在linux下查看.txt格式的文件会出现乱码呢？因为linux操作系统和windows操作系统对于中文的压缩方式不同。在windows 中，中文压缩一般是.gbbk，而在linux环境中压缩为utf8，这就导致了在windows下能正常显示的.txt文件在linux中打开后呈现乱 码状态。对于这种情况的处理方法为在包含要打开的.txt文件的目录下，在终端输入：
&lt;code class=&quot;highlighter-rouge&quot;&gt;
iconv -f gbk -t utf8 filename.txt -&amp;gt; filename.txt.utf8
&lt;/code&gt;
用ls命令查看，生成了.utf8格式的文件，此时打开该文件就不再有乱码了.&lt;/p&gt;

</description>
        <pubDate>Tue, 16 May 2017 00:00:00 +0800</pubDate>
        <link>http://liuqibao.me/2017/05/16/linux-file-encoding/</link>
        <guid isPermaLink="true">http://liuqibao.me/2017/05/16/linux-file-encoding/</guid>
        
        <category>format</category>
        
        
        <category>Linux</category>
        
      </item>
    
      <item>
        <title>Ubuntu设置静态IP</title>
        <description>&lt;h2 id=&quot;ubuntu-1610-&quot;&gt;手动设置 Ubuntu 16.10 的网卡&lt;/h2&gt;

&lt;p&gt;最近新换了一个环境，需要手动设置 ip 地址上网，所以搞了一下！&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;查看网卡名&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;ip addr
&lt;/div&gt;
&lt;p&gt;我的有线网卡为：enp7s0
无线网卡为：wlp8s0
&lt;strong&gt;一定要看好网卡名字！！！&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;手动设置 ip
```
sudo vi /etc/network/interfaces&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;以下为输出&lt;/p&gt;

&lt;h1 id=&quot;interfaces5-file-used-by-ifup8-and-ifdown8&quot;&gt;interfaces(5) file used by ifup(8) and ifdown(8)&lt;/h1&gt;
&lt;p&gt;auto lo
iface lo inet loopback&lt;/p&gt;

&lt;h1 id=&quot;section&quot;&gt;以下为后来添加&lt;/h1&gt;
&lt;p&gt;auto enp7s0
iface enp7s0 inet static
address 192.168.56.42
netmask 255.255.255.0
gateway 192.168.56.254&lt;/p&gt;

&lt;h1 id=&quot;dns-nameserver-21033601&quot;&gt;dns-nameserver 210.33.60.1&lt;/h1&gt;
&lt;p&gt;dns-nameserver 202.107.200.69
```&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;重启
&lt;code class=&quot;highlighter-rouge&quot;&gt;
sudo /etc/init.d/networking restart
sudo resolvconf -u    #重启 dns，否则无法解析域名
&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;备用
如果还是无法解析域名，可以试试：
```
vi /etc/resolvconf/resolv.conf.d/base&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;以下为输出&lt;/p&gt;

&lt;p&gt;nameserver 210.33.60.1
nameserver 202.107.200.69&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;刷新配置文件
&lt;/div&gt;
&lt;p&gt;sudo resolvconf -u
```&lt;/p&gt;

&lt;p&gt;补：
用了几天突然 DNS 又不行了，做了以下修改：
```
sudo vi /etc/resolv.conf&lt;/p&gt;

&lt;h1 id=&quot;section-1&quot;&gt;添加以下内容：&lt;/h1&gt;
&lt;p&gt;nameserver 210.33.60.1 #或者其它 DNS 地址
&lt;code class=&quot;highlighter-rouge&quot;&gt;
重启
&lt;/code&gt;
sudo /etc/init.d/networking restart
sudo resolvconf -u    #重启 dns，否则无法解析域名
```&lt;/p&gt;
</description>
        <pubDate>Wed, 10 May 2017 00:00:00 +0800</pubDate>
        <link>http://liuqibao.me/2017/05/10/set-static-ip-ubuntu16/</link>
        <guid isPermaLink="true">http://liuqibao.me/2017/05/10/set-static-ip-ubuntu16/</guid>
        
        <category>internet</category>
        
        
        <category>Linux</category>
        
      </item>
    
      <item>
        <title>linux下通过校园网认证</title>
        <description>&lt;h2 id=&quot;wget--curl--linux--web-&quot;&gt;用 wget 或者 curl 在 linux 上通过 web 认证&lt;/h2&gt;

&lt;p&gt;一般校园网都会设置网关，每个人用帐号密码通过 web 认证进行上网。这在图形界面很容易，因为网页会自动跳转到认证界面。但是，如果在服务器的纯命令行界面，该如何通过 web 认证呢？这里推荐两种方法：curl 和 wget。&lt;/p&gt;

&lt;h3 id=&quot;section&quot;&gt;1. 查看完整的认证过程&lt;/h3&gt;

&lt;p&gt;这是最重要的一步！！！
大部分的 web 认证都是基于 form 的认证方式，也就是你浏览器通过一个 form ，把用户名和密码 post 给服务器。
所以 form 的格式是最重要的，不同的学校，可能会有所不同，因此，你应该先通过查看登陆界面的源码，了解你的 form data 和 Request URL。&lt;/p&gt;

&lt;h3 id=&quot;section-1&quot;&gt;2. 认证&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;wget 方式
&lt;code class=&quot;highlighter-rouge&quot;&gt;
wget --post-data=&quot;username=abc&amp;amp;password=123456&amp;amp;pwd=123456&amp;amp;secret=true&quot; --save-cookies=webcookie.txt --keep-session-cookies http://10.0.0.252/webAuth/ # 将登陆信息存储成 cookies，以便下次使用
wget --load-cookies=webcookie.txt http://10.0.0.252/webAuth # 直接用载入 cookies，进行认证
wget --post-data=&quot;username=abc&amp;amp;password=123456&amp;amp;pwd=123456&amp;amp;secret=true&quot; http://10.0.0.252/webAuth/ # 直接使用帐号密码登陆
&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;如时登陆不成功，请先检查 form data 和 URL 是否格式正确！！！&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;curl 方式&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;curl --data &quot;username=liuqibao&amp;amp;password=666666&amp;amp;pwd=666666&amp;amp;secret=true&quot; http://10.0.0.252/webAuth/
&lt;/div&gt;

&lt;p&gt;最后再说一遍，一定要看清 form data 和 Request URL 的格式！！！&lt;/p&gt;
</description>
        <pubDate>Mon, 01 May 2017 00:00:00 +0800</pubDate>
        <link>http://liuqibao.me/2017/05/01/web-authentication-by-wget-or-curl-in-linux/</link>
        <guid isPermaLink="true">http://liuqibao.me/2017/05/01/web-authentication-by-wget-or-curl-in-linux/</guid>
        
        <category>internet</category>
        
        
        <category>Linux</category>
        
      </item>
    
      <item>
        <title>fastqc 软件的简单使用和结果解读</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#section&quot; id=&quot;markdown-toc-section&quot;&gt;简单使用&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-1&quot; id=&quot;markdown-toc-section-1&quot;&gt;结果&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#section-2&quot; id=&quot;markdown-toc-section-2&quot;&gt;基础统计&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-3&quot; id=&quot;markdown-toc-section-3&quot;&gt;每个碱基的测序质量&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#per-sequence-quality-scores&quot; id=&quot;markdown-toc-per-sequence-quality-scores&quot;&gt;Per Sequence Quality Scores&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#per-base-sequence-content&quot; id=&quot;markdown-toc-per-base-sequence-content&quot;&gt;Per Base Sequence Content&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#per-sequence-gc-&quot; id=&quot;markdown-toc-per-sequence-gc-&quot;&gt;Per Sequence GC 含量&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#per-base-n-content&quot; id=&quot;markdown-toc-per-base-n-content&quot;&gt;Per Base N Content&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#sequence-length-distribution&quot; id=&quot;markdown-toc-sequence-length-distribution&quot;&gt;Sequence Length Distribution&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#duplicate-sequences&quot; id=&quot;markdown-toc-duplicate-sequences&quot;&gt;Duplicate Sequences&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#overrepresented-sequences&quot; id=&quot;markdown-toc-overrepresented-sequences&quot;&gt;Overrepresented Sequences&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#adapter-content&quot; id=&quot;markdown-toc-adapter-content&quot;&gt;Adapter Content&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#kmer-content&quot; id=&quot;markdown-toc-kmer-content&quot;&gt;Kmer Content&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#per-tile-sequence-quality&quot; id=&quot;markdown-toc-per-tile-sequence-quality&quot;&gt;Per Tile Sequence Quality&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;section&quot;&gt;简单使用&lt;/h3&gt;

&lt;p&gt;fastqc 是一个高能量测序数据 QC 分析工具。
作用命令：
&lt;code class=&quot;highlighter-rouge&quot;&gt;
fastqc seqfile1 seqfile2 ... seqfileN
fastqc fastqc [-o output dir] [--(no)extract] [-f fastq|bam|sam] [-c contaminant file] seqfile1 .. seqfileN
&lt;/code&gt;
options：
-o：将结果输出到指定文件夹。注意，文件夹必须已存在，程序不会自己创建文件夹。
–casava：输入数据为 casava 数据
–nano：输入数据为 naopore 序列数据，fast5 格式。
–extract：输出文件不压缩，默认为压缩
–noextract：压缩输出文件，如果在非交互式界面建议这样做。
-f：强制指定输入文件格式，默认自动识别。可用格式有：bam,sam,bam_mapped,sam_mapped,fastq
-t：多线程控制。注意，每个线程需要 250M 内存，请合理使用。32 位的系统不能多于 6 个线程。
-c：污染物选项，非默认选项
-a：接头文件，非默认选项
-l：自定义评估标准，也可以删除某些评估项目。
-k: 调节 kmers 设定某特定短序列的长度，范围 2-10，默认 7.
-q：沉默模式，仅报告错误，不输出标准输出
-d：设置存储产生图片时的临时文件的文件夹，默认 /temp&lt;/p&gt;

&lt;h3 id=&quot;section-1&quot;&gt;结果&lt;/h3&gt;

&lt;h4 id=&quot;section-2&quot;&gt;基础统计&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;Filename&lt;/li&gt;
  &lt;li&gt;File type：常规碱基还是 colorspace 序列，后者需要转换为常规碱基。&lt;/li&gt;
  &lt;li&gt;Encoding：Q 值的 ASCII 编码版本&lt;/li&gt;
  &lt;li&gt;Total Sequences：有两个值，一个实际值，一个估计值，目前来说一样，软件还没找到好的估计方法。&lt;/li&gt;
  &lt;li&gt;Filtered Sequences：在 Casava 模式下运行时过滤的 flag 序列数，这项结果不在上一项 Total Sequences中，也不在以后的分析中&lt;/li&gt;
  &lt;li&gt;Sequence Length：显示最长和最短 read 长度，如果所有长度一致，只显示一个值。&lt;/li&gt;
  &lt;li&gt;%GC：所有序列所有碱基的 %GC。&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;section-3&quot;&gt;每个碱基的测序质量&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;../image/fastqc_image/per_base_sequence_content.png&quot; alt=&quot;&quot; /&gt;
1. Summary
展示 FastQ 文件每个位置每个碱基的质量范围。箱线图
- 中间的红线是中位数
- 蓝线是平均数&lt;/p&gt;

&lt;p&gt;y 轴代表质量分数，前景分为不同的颜色：
- 绿色：非常好
- 橘色：合格
- 红色：很差。
一般测序的质量会随测序长度逐渐降低。&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;Warning
碱基下四分位数小于 10，或者中位数小于 25.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Failure&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;碱基下四分位数质量小于 5，或者中位数小于 20.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;揭示 warnings 的常见原因&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;最常见的原因是随测序的进行，质量逐渐下降。
通常可以通过软件剪掉一部分碱基。
没有去接头。
另一个原因有可能是因为测序过程中，run 短暂的出现问题，可以通过比较每个 tile 的质量图查看错误类型。可以考虑先 amsking 碱基，再比对。
如果 read 长度不一，可能会报错，因为某个碱基的覆盖度可能很低，下一步分析前，你需要查看哪些序列出了问题。&lt;/p&gt;

&lt;h3 id=&quot;per-sequence-quality-scores&quot;&gt;Per Sequence Quality Scores&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;../image/fastqc_image/per_sequence_quality.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Summary
每条 read 的质量分数。通常由于测序机器原因，总有部分 reads 质量不好，但应该只占一小部分。
如果一个 run 中的测序结果有明显的一部分质量较低，可能是系统原因，可能是某个 flowcell 的问题。&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;y 轴：reads 数
x 轴：质量&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Warning&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;平均值小于 27（=0.2% 错误率）&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Failure&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;均值小于 20（=1% 错误率）&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;常见原因&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;This module is generally fairly robust and errors here usually indicate a general loss of quality within a run. For long runs this may be alleviated through quality trimming. If a bi-modal, or complex distribution is seen then the results should be evaluated in concert with the per-tile qualities (if available) since this might indicate the reason for the loss in quality of a subset of sequences.&lt;/p&gt;

&lt;h3 id=&quot;per-base-sequence-content&quot;&gt;Per Base Sequence Content&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;../image/fastqc_image/per_base_sequence_content.pn&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Summary&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;reads 的每个位置的每种碱基比例。
y 轴：百分比
x 轴：read 位置&lt;/p&gt;

&lt;p&gt;在随机库中，理想结果为 4 各碱基比率相同（25%），为一条直线。
值得注意的是，一些类型的库碱基比例会出现偏差，通常是在 read 的开始位置。这是由于系统原因造成的，包括 RNA-seq。虽然这是一个技术偏差，而且也不会对下游分析造成影响，但是，本模块还是会给出警告。&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Warnning&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;任何位置 A 和 T，或者 G 和 C 的差异大于 10%&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Failure&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;任何位置 A 和 T，或者 G 和 C 的差异大小 20%&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;常见原因&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;有以下几个常见原因：
1&amp;gt; Overrepresented sequences：如接头或者 rRNA
2&amp;gt; Biased fragmentation：由于系统的随机选择偏差，导致每个 run 的前 12bp 可能有偏差。
3&amp;gt; Biased composition libraries: 一些库的组成有偏差，比如经过了亚硫酸钠处理等，虽然对这个库很正常，但是模块会给出警告。
4&amp;gt; 如果库已过了去接头处理，可能会引起虚假的偏差，因为已经比对需要的接头已经去除了。&lt;/p&gt;

&lt;h3 id=&quot;per-sequence-gc-&quot;&gt;Per Sequence GC 含量&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;../image/fastqc_image/per_sequence_gc_content.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;Summary
每条 read 的 GC 含量分布与正常分布的比较
y 轴：read 数
x 轴：GC%&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Warning&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;15% reads 有偏差&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Failure&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;30% 的 reads 有偏差。&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;常见原因&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;由于污染或者系统误差造成。&lt;/p&gt;

&lt;h3 id=&quot;per-base-n-content&quot;&gt;Per Base N Content&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;../image/fastqc_image/per_base_n_content.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Summary&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;如果不能识别某位置是什么碱基，会标为 N
该模块统计每个位置 N 的比例
y 轴：位置
x 轴：N 比例
正常情况下为一条直线，可能在末端有时会有突起。&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Warning&lt;/li&gt;
&lt;/ol&gt;

&lt;blockquote&gt;
  &lt;p&gt;5%&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ol&gt;
  &lt;li&gt;Failure&lt;/li&gt;
&lt;/ol&gt;

&lt;blockquote&gt;
  &lt;p&gt;20%&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ol&gt;
  &lt;li&gt;常见原因&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;一个最可能的原因是某个位置的覆盖度比较低。
在测序质量很好的背景下有少部分位置发生高的 N 含量，可能是因为序列的组成有偏差，可以在 per-base-sequence-content 结果中查看。&lt;/p&gt;

&lt;h3 id=&quot;sequence-length-distribution&quot;&gt;Sequence Length Distribution&lt;/h3&gt;
&lt;p&gt;![../image/fastqc_image/sequence_length_distribution.png]
1. Summary
x 轴：reads 长度
y 轴：reads 数&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Warning
长度不一&lt;/li&gt;
  &lt;li&gt;Failure
有长度为 0&lt;/li&gt;
  &lt;li&gt;常见原因
有些平台的 reads 长度就量不一样，不用管它。&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;duplicate-sequences&quot;&gt;Duplicate Sequences&lt;/h3&gt;
&lt;p&gt;1&lt;a href=&quot;../image/fastqc_image/duplication_levels.png&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;Summary
一个低的 duplication 表明覆盖度较高，但是过高的 duplication 表明有富集偏差（如，PCR 过量扩增）。
y 轴：duplicated reads 数
x 轴：duplication 次数
无重复 reads 数为 100%
为了减少内存占用，仅对前100,000条不重复序列进行统计。
为了简化结果形式，对于多于10次重复的序列会人为地将其重复次数设定为10，因此结果图像上曲线会显示一个小的翘尾。
对于&amp;gt;75bp的序列，将其截短为前50bp进行统计，因相对而言长序列会包含较多测序错误而倾向于产生过多的统计重复。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;Warning
非唯一序列大于 20%&lt;/li&gt;
  &lt;li&gt;Failure
非唯一序列大于 50%&lt;/li&gt;
  &lt;li&gt;常见原因
一般有两个原因：技术重复（PCR 扩增）、生物重复（不同拷贝）&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;overrepresented-sequences&quot;&gt;Overrepresented Sequences&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;Summary
为了优化运算仅对前100,000条序列进行运算，将重复比例在所有序列中的占比&amp;gt;0.1%的结果进行列表输出，并且对其与常见的测序实验中使用的adapter等序列进行比对，比对时要求一致性长度&amp;gt;20p且无任何错配。&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;对于&amp;gt;75bp的序列，将其截短为前50bp进行比对
2. Warning
重复序列大于 0.1%
3. Failure
重复序列大于 1%
4. 常见原因&lt;/p&gt;

&lt;h3 id=&quot;adapter-content&quot;&gt;Adapter Content&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;Summary&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;接头序列统计
2. Warning
任何序列出现在 5% 的 reads 中
3. Failure
任何序列出现在 10% 的 reads 中&lt;/p&gt;

&lt;h3 id=&quot;kmer-content&quot;&gt;Kmer Content&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;Summary
overrepresented sequence 并不总是有效，例如：
1）如低质量的长 reads，由于随机的测序错误会降低过表达序列统计数
2）如果小片段序列在不同的位置出现也不会以被统计到&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Kmer意为连指定长度为K的连续碱基
此部分的Kmer默认为连续7个碱基组成的一个单元，即任意一个碱基与其后相连的六个碱基构成了一个Kmer。
按read的位点逐一统计每一个位点的所有Kmer的情况，并在结果图中给出了前六个过表达的Kmer及其在read上的位点分布情况。
如果某k个bp的短序列在reads中大量出现，其频率高于统计期望的话，fastqc将其记为over-represente&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Warninn&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;p &amp;lt; 0.01&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Failure&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;P &amp;lt; 10^5&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;常见原因&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;per-tile-sequence-quality&quot;&gt;Per Tile Sequence Quality&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;../image/fastqc_image/per_tile_quality.png&quot; alt=&quot;&quot; /&gt;
1. Summary
该模块展示 Illumina 测序的每个 flowcell tile 的结果，这样就可以直接看到是哪个 tile 的测序有问题。
冷色表示该 tile 的质量大于等于相应 run 的平均质量，热色系表示小于平均质量。总之，越蓝越好，越红越差。
y 轴：tile 编号
x 轴：read 位置&lt;/p&gt;

&lt;p&gt;产生的问题可能是由于暂时性问题，如有气泡，或者长时间的问题，如 flowcell 的壁上有污迹。&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Warning
Phred score 低于均值的有 2 个&lt;/li&gt;
  &lt;li&gt;Failure
Phred score 低于均值的有 5 个&lt;/li&gt;
  &lt;li&gt;常见原因&lt;/li&gt;
&lt;/ol&gt;

</description>
        <pubDate>Wed, 26 Apr 2017 00:00:00 +0800</pubDate>
        <link>http://liuqibao.me/2017/04/26/fastqc-introdution-and-result/</link>
        <guid isPermaLink="true">http://liuqibao.me/2017/04/26/fastqc-introdution-and-result/</guid>
        
        <category>使用手册</category>
        
        
        <category>bioinformatics</category>
        
      </item>
    
      <item>
        <title>## vcftools 的简单使用</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#section&quot; id=&quot;markdown-toc-section&quot;&gt;1. 安装&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#section-1&quot; id=&quot;markdown-toc-section-1&quot;&gt;2. 使用&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#section-2&quot; id=&quot;markdown-toc-section-2&quot;&gt;2.2. 位点过滤参数：&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-3&quot; id=&quot;markdown-toc-section-3&quot;&gt;2.3. 样本过滤参数&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-4&quot; id=&quot;markdown-toc-section-4&quot;&gt;2.4. 基因型过滤参数&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-5&quot; id=&quot;markdown-toc-section-5&quot;&gt;2.5. 输出参数&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#section-6&quot; id=&quot;markdown-toc-section-6&quot;&gt;2.6. 比较参数&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;vcftools 是用于 VCF 和 BCF 格式的遗传变异数据的工具包。
它的功能主要有数据统计、运行数据计算、数据过滤、数据转换。&lt;/p&gt;

&lt;h3 id=&quot;section&quot;&gt;1. 安装&lt;/h3&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;git clone https://github.com/vcftools/vcftools.git
cd vcftools
./autogen.sh
./configure
make
make install
&lt;/div&gt;
&lt;p&gt;如果是非 root 用户，可以使用：`./configure prefix=’Your path’&lt;/p&gt;

&lt;h3 id=&quot;section-1&quot;&gt;2. 使用&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;vcftools [ --vcf FILE | --gzvcf FILE | --bcf FILE] [ --out OUTPUT PREFIX ] [ FILTERING OPTIONS ] [ OUTPUT OPTIONS ]
&lt;/div&gt;
&lt;p&gt;#### 2.1. 基本参数：
- 输入文件参数：
–vcf &lt;输入文件&gt;：输入文件可以是 VCF 格式 v4.0、v4.1 和 v4.2。’-‘ 用于标准输入
--gzvcf &lt;输入文件&gt;： 读入 gzipped 压缩文件
--bcf &lt;输入文件&gt;：读入 BCF2 文件。
- 输出文件参数：
--out &lt;输出文件&gt;：所有输出文件的文件名前缀。如果忽略，默认为 ’out.'
--stdout
-c：输出为标准输出
-temp &lt;temp_文件&gt;：将 vcftools 产生的所有临时文件输入到指定目录。&lt;/temp_文件&gt;&lt;/输出文件&gt;&lt;/输入文件&gt;&lt;/输入文件&gt;&lt;/输入文件&gt;&lt;/p&gt;

&lt;h4 id=&quot;section-2&quot;&gt;2.2. 位点过滤参数：&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;位置过滤
–chr &lt;chromosome&gt; 
--not-chr &lt;chromosome&gt;&lt;/chromosome&gt;&lt;/chromosome&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;匹配或者不匹配某条染色体。可能多次使用该参数，以设定多条染色体。&lt;/p&gt;

&lt;p&gt;–from-bp &lt;integer&gt; 
--to-bp &lt;integer&gt;&lt;/integer&gt;&lt;/integer&gt;&lt;/p&gt;

&lt;p&gt;设定碱基的位置范围，仅与 &lt;code class=&quot;highlighter-rouge&quot;&gt;--chr&lt;/code&gt; 结合使用。可以只使用一个。&lt;/p&gt;

&lt;p&gt;–positions &lt;filename&gt; 
--exclude-positions &lt;filename&gt;&lt;/filename&gt;&lt;/filename&gt;&lt;/p&gt;

&lt;p&gt;使用或者不使用文件中的某些位置的碱基。输入文件的每行用 &lt;code class=&quot;highlighter-rouge&quot;&gt;\t&lt;/code&gt; 制表符分隔，允许加注释行，用 ‘#’ 开头。&lt;/p&gt;

&lt;p&gt;–positions-overlap &lt;filename&gt; 
--exclude-positions-overlap &lt;filename&gt;&lt;/filename&gt;&lt;/filename&gt;&lt;/p&gt;

&lt;p&gt;排除或者不排除文件中与参考等位基因重叠的碱基。&lt;/p&gt;

&lt;p&gt;–bed &lt;filename&gt; 
--exclude-bed &lt;filename&gt;&lt;/filename&gt;&lt;/filename&gt;&lt;/p&gt;

&lt;p&gt;Include or exclude a set of sites on the basis of a BED file. Only the first three columns (chrom, chromStart and chromEnd) are required. The BED file is expected to have a header line. A site will be kept or excluded if any part of any allele (REF or ALT) at a site is within the range of one of the BED entries.&lt;/p&gt;

&lt;p&gt;–thin &lt;integer&gt;&lt;/integer&gt;&lt;/p&gt;

&lt;p&gt;Thin sites so that no two sites are within the specified distance from one another.&lt;/p&gt;

&lt;p&gt;–mask &lt;filename&gt; 
--invert-mask &lt;filename&gt; 
--mask-min &lt;integer&gt;&lt;/integer&gt;&lt;/filename&gt;&lt;/filename&gt;&lt;/p&gt;

&lt;p&gt;These options are used to specify a FASTA-like mask file to filter with. The mask file contains a sequence of integer digits (between 0 and 9) for each position on a chromosome that specify if a site at that position should be filtered or not. 
An example mask file would look like:
&lt;code class=&quot;highlighter-rouge&quot;&gt;
&amp;gt;1 
0000011111222... 
&amp;gt;2 
2222211111000...
&lt;/code&gt;
In this example, sites in the VCF file located within the first 5 bases of the start of chromosome 1 would be kept, whereas sites at position 6 onwards would be filtered out. And sites after the 11th position on chromosome 2 would be filtered out as well. 
The “–invert-mask” option takes the same format mask file as the “–mask” option, however it inverts the mask file before filtering with it. 
And the “–mask-min” option specifies a threshold mask value between 0 and 9 to filter positions by. The default threshold is 0, meaning only sites with that value or lower will be kept.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;位点过滤&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;–snp &lt;string&gt;&lt;/string&gt;&lt;/p&gt;

&lt;p&gt;包含一个 SNP 位点，如 dbSNP 的 rsID。可以使用多次。&lt;/p&gt;

&lt;p&gt;–snps &lt;filename&gt; 
--exclude &lt;filename&gt;&lt;/filename&gt;&lt;/filename&gt;&lt;/p&gt;

&lt;p&gt;使用或者不使用文件中给出的 SNPs。文件包含一列 SNP IDs （如 dbSNP rsIDs），每行一个，不需要表头。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;变异类型过滤
–keep-only-indels 
–remove-indels&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;使用或者不使用一个 indel。indel 表示任何与参考等位基因长度不同的变异。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;FILTER flag 过滤
–remove-filtered-all&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;根据 vcf 文件中的 FILTER flag 过滤，除了 PASS。&lt;/p&gt;

&lt;p&gt;–keep-filtered &lt;string&gt; 
--remove-filtered &lt;string&gt;&lt;/string&gt;&lt;/string&gt;&lt;/p&gt;

&lt;p&gt;使用或者不使用 FILTER flag 标记的所有位点。可以多次使用该参数。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;根据 INFO 过滤&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;–keep-INFO &lt;string&gt; 
--remove-INFO &lt;string&gt;&lt;/string&gt;&lt;/string&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;根据 ALLELE 过虑&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;–maf &lt;float&gt; ：过滤大于等于该 MAF 的位点
--max-maf &lt;float&gt;：过滤小于等于该 MAF 的位点。&lt;/float&gt;&lt;/float&gt;&lt;/p&gt;

&lt;p&gt;–non-ref-af &lt;float&gt; 
--max-non-ref-af &lt;float&gt; 
--non-ref-ac &lt;integer&gt; 
--max-non-ref-ac &lt;integer&gt;&lt;/integer&gt;&lt;/integer&gt;&lt;/float&gt;&lt;/float&gt;&lt;/p&gt;

&lt;p&gt;–non-ref-af-any &lt;float&gt; 
--max-non-ref-af-any &lt;float&gt; 
--non-ref-ac-any &lt;integer&gt; 
--max-non-ref-ac-any &lt;integer&gt;&lt;/integer&gt;&lt;/integer&gt;&lt;/float&gt;&lt;/float&gt;&lt;/p&gt;

&lt;p&gt;–mac &lt;integer&gt; ：过滤最小等位基因 count 数大于等位该参数的位点
--max-mac &lt;integer&gt;：过滤最小等位基因 count 数小于等于该参数的位点&lt;/integer&gt;&lt;/integer&gt;&lt;/p&gt;

&lt;p&gt;–min-alleles &lt;integer&gt; 
--max-alleles &lt;integer&gt;&lt;/integer&gt;&lt;/integer&gt;&lt;/p&gt;

&lt;p&gt;过滤等位基因数小于或者大于该参数的位点，可以结合使用，例如，&lt;code class=&quot;highlighter-rouge&quot;&gt;vcftools --vcf file1.vcf --min-alleles 2 --max-alleles 2&lt;/code&gt; 过滤只有两个等位基因的位点。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;根据基因型数值过滤&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;–min-meanDP &lt;float&gt; 
--max-meanDP &lt;float&gt;&lt;/float&gt;&lt;/float&gt;&lt;/p&gt;

&lt;p&gt;根据测序深度过滤&lt;/p&gt;

&lt;p&gt;–hwe &lt;float&gt;：哈迪-温伯格平衡&lt;/float&gt;&lt;/p&gt;

&lt;p&gt;Assesses sites for Hardy-Weinberg Equilibrium using an exact test, as defined by Wigginton, Cutler and Abecasis (2005). Sites with a p-value below the threshold defined by this option are taken to be out of HWE, and therefore excluded.&lt;/p&gt;

&lt;p&gt;–max-missing &lt;float&gt;：根据缺失数据比例过滤&lt;/float&gt;&lt;/p&gt;

&lt;p&gt;Exclude sites on the basis of the proportion of missing data (defined to be between 0 and 1, where 0 allows sites that are completely missing and 1 indicates no missing data allowed).&lt;/p&gt;

&lt;p&gt;–max-missing-count &lt;integer&gt;&lt;/integer&gt;&lt;/p&gt;

&lt;p&gt;Exclude sites with more than this number of missing genotypes over all individuals.&lt;/p&gt;

&lt;p&gt;–phased&lt;/p&gt;

&lt;p&gt;Excludes all sites that contain unphased genotypes.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;杂项过滤
–minQ &lt;float&gt;：根据 Quality 值过滤&lt;/float&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;section-3&quot;&gt;2.3. 样本过滤参数&lt;/h4&gt;

&lt;p&gt;–indv &lt;string&gt; 
--remove-indv &lt;string&gt;&lt;/string&gt;&lt;/string&gt;&lt;/p&gt;

&lt;p&gt;使用或者不使用某样本，可以多次使用该参数。&lt;/p&gt;

&lt;p&gt;–keep &lt;filename&gt; 
--remove &lt;filename&gt;&lt;/filename&gt;&lt;/filename&gt;&lt;/p&gt;

&lt;p&gt;使用或者移除的文件中所列的本亲。样本 ID （与 VCF 表头相同）每个一行。如果同时使用两参数，&lt;code class=&quot;highlighter-rouge&quot;&gt;--keep&lt;/code&gt; 先于 &lt;code class=&quot;highlighter-rouge&quot;&gt;--remove&lt;/code&gt; 运行。如果使用了多个文件，先保留所有 ’–keep‘ 文件中的样本，再删除其中 ’–remove‘ 所有文件中的样本。&lt;/p&gt;

&lt;p&gt;–max-indv &lt;integer&gt;: Randomly thins individuals so that only the specified number are retained.&lt;/integer&gt;&lt;/p&gt;

&lt;h4 id=&quot;section-4&quot;&gt;2.4. 基因型过滤参数&lt;/h4&gt;

&lt;p&gt;–remove-filtered-geno-all&lt;/p&gt;

&lt;p&gt;Excludes all genotypes with a FILTER flag not equal to “.” (a missing value) or PASS.&lt;/p&gt;

&lt;p&gt;–remove-filtered-geno &lt;string&gt;&lt;/string&gt;&lt;/p&gt;

&lt;p&gt;Excludes genotypes with a specific FILTER flag.&lt;/p&gt;

&lt;p&gt;–minGQ &lt;float&gt;&lt;/float&gt;&lt;/p&gt;

&lt;p&gt;Exclude all genotypes with a quality below the threshold specified. This option requires that the “GQ” FORMAT tag is specified for all sites.&lt;/p&gt;

&lt;p&gt;–minDP &lt;float&gt; 
--maxDP &lt;float&gt;&lt;/float&gt;&lt;/float&gt;&lt;/p&gt;

&lt;p&gt;Includes only genotypes greater than or equal to the “–minDP” value and less than or equal to the “–maxDP” value. This option requires that the “DP” FORMAT tag is specified for all sites.&lt;/p&gt;

&lt;h4 id=&quot;section-5&quot;&gt;2.5. 输出参数&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;输出等位基因统计
-freq 
–freq2&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;输出带有后缀 ’.frq‘ 文件中的每个位点的等位基因频率。第二选项禁止所有关于等位基因信息的输出。&lt;/p&gt;

&lt;p&gt;–counts 
–counts2&lt;/p&gt;

&lt;p&gt;输出带有后缀 ‘.frq.count’ 文件中的原始等位基因 counts 数。第二个选项禁止所有关于等位基因信息的输出。&lt;/p&gt;

&lt;p&gt;–derived&lt;/p&gt;

&lt;p&gt;For use with the previous four frequency and count options only. Re-orders the output file columns so that the ancestral allele appears first. This option relies on the ancestral allele being specified in the VCF file using the AA tag in the INFO field.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;输出深度统计&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;–depth&lt;/p&gt;

&lt;p&gt;Generates a file containing the mean depth per individual. This file has the suffix “.idepth”.&lt;/p&gt;

&lt;p&gt;–site-depth&lt;/p&gt;

&lt;p&gt;Generates a file containing the depth per site summed across all individuals. This output file has the suffix “.ldepth”.&lt;/p&gt;

&lt;p&gt;–site-mean-depth&lt;/p&gt;

&lt;p&gt;Generates a file containing the mean depth per site averaged across all individuals. This output file has the suffix “.ldepth.mean”.&lt;/p&gt;

&lt;p&gt;–geno-depth&lt;/p&gt;

&lt;p&gt;Generates a (possibly very large) file containing the depth for each genotype in the VCF file. Missing entries are given the value -1. The file has the suffix “.gdepth”.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;输出 LD 统计&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;–hap-r2&lt;/p&gt;

&lt;p&gt;Outputs a file reporting the r2, D, and D’ statistics using phased haplotypes. These are the traditional measures of LD often reported in the population genetics literature. The output file has the suffix “.hap.ld”. This option assumes that the VCF input file has phased haplotypes.&lt;/p&gt;

&lt;p&gt;–geno-r2&lt;/p&gt;

&lt;p&gt;Calculates the squared correlation coefficient between genotypes encoded as 0, 1 and 2 to represent the number of non-reference alleles in each individual. This is the same as the LD measure reported by PLINK. The D and D’ statistics are only available for phased genotypes. The output file has the suffix “.geno.ld”.&lt;/p&gt;

&lt;p&gt;–geno-chisq&lt;/p&gt;

&lt;p&gt;If your data contains sites with more than two alleles, then this option can be used to test for genotype independence via the chi-squared statistic. The output file has the suffix “.geno.chisq”.&lt;/p&gt;

&lt;p&gt;–hap-r2-positions &lt;positions list=&quot;&quot; file=&quot;&quot;&gt; 
--geno-r2-positions &lt;positions list=&quot;&quot; file=&quot;&quot;&gt;&lt;/positions&gt;&lt;/positions&gt;&lt;/p&gt;

&lt;p&gt;Outputs a file reporting the r2 statistics of the sites contained in the provided file verses all other sites. The output files have the suffix “.list.hap.ld” or “.list.geno.ld”, depending on which option is used.&lt;/p&gt;

&lt;p&gt;–ld-window &lt;integer&gt;&lt;/integer&gt;&lt;/p&gt;

&lt;p&gt;This optional parameter defines the maximum number of SNPs between the SNPs being tested for LD in the “–hap-r2”, “–geno-r2”, and “–geno-chisq” functions.&lt;/p&gt;

&lt;p&gt;–ld-window-bp &lt;integer&gt;&lt;/integer&gt;&lt;/p&gt;

&lt;p&gt;This optional parameter defines the maximum number of physical bases between the SNPs being tested for LD in the “–hap-r2”, “–geno-r2”, and “–geno-chisq” functions.&lt;/p&gt;

&lt;p&gt;–ld-window-min &lt;integer&gt;&lt;/integer&gt;&lt;/p&gt;

&lt;p&gt;This optional parameter defines the minimum number of SNPs between the SNPs being tested for LD in the “–hap-r2”, “–geno-r2”, and “–geno-chisq” functions.&lt;/p&gt;

&lt;p&gt;–ld-window-bp-min &lt;integer&gt;&lt;/integer&gt;&lt;/p&gt;

&lt;p&gt;This optional parameter defines the minimum number of physical bases between the SNPs being tested for LD in the “–hap-r2”, “–geno-r2”, and “–geno-chisq” functions.&lt;/p&gt;

&lt;p&gt;–min-r2 &lt;float&gt;&lt;/float&gt;&lt;/p&gt;

&lt;p&gt;This optional parameter sets a minimum value for r2, below which the LD statistic is not reported by the “–hap-r2”, “–geno-r2”, and “–geno-chisq” functions.&lt;/p&gt;

&lt;p&gt;–interchrom-hap-r2 
–interchrom-geno-r2&lt;/p&gt;

&lt;p&gt;Outputs a file reporting the r2 statistics for sites on different chromosomes. The output files have the suffix “.interchrom.hap.ld” or “.interchrom.geno.ld”, depending on the option used.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;OUTPUT TRANSITION/TRANSVERSION STATISTICS&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;–TsTv &lt;integer&gt;&lt;/integer&gt;&lt;/p&gt;

&lt;p&gt;Calculates the Transition / Transversion ratio in bins of size defined by this option. Only uses bi-allelic SNPs. The resulting output file has the suffix “.TsTv”.&lt;/p&gt;

&lt;p&gt;–TsTv-summary&lt;/p&gt;

&lt;p&gt;Calculates a simple summary of all Transitions and Transversions. The output file has the suffix “.TsTv.summary”.&lt;/p&gt;

&lt;p&gt;–TsTv-by-count&lt;/p&gt;

&lt;p&gt;Calculates the Transition / Transversion ratio as a function of alternative allele count. Only uses bi-allelic SNPs. The resulting output file has the suffix “.TsTv.count”.&lt;/p&gt;

&lt;p&gt;–TsTv-by-qual&lt;/p&gt;

&lt;p&gt;Calculates the Transition / Transversion ratio as a function of SNP quality threshold. Only uses bi-allelic SNPs. The resulting output file has the suffix “.TsTv.qual”.&lt;/p&gt;

&lt;p&gt;–FILTER-summary&lt;/p&gt;

&lt;p&gt;Generates a summary of the number of SNPs and Ts/Tv ratio for each FILTER category. The output file has the suffix “.FILTER.summary”.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;输出核酸多态性统计&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;–site-pi&lt;/p&gt;

&lt;p&gt;Measures nucleotide divergency on a per-site basis. The output file has the suffix “.sites.pi”.&lt;/p&gt;

&lt;p&gt;–window-pi &lt;integer&gt; 
--window-pi-step &lt;integer&gt;&lt;/integer&gt;&lt;/integer&gt;&lt;/p&gt;

&lt;p&gt;Measures the nucleotide diversity in windows, with the number provided as the window size. The output file has the suffix “.windowed.pi”. The latter is an optional argument used to specify the step size in between windows.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;输出 FST 统计&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;–weir-fst-pop &lt;filename&gt;&lt;/filename&gt;&lt;/p&gt;

&lt;p&gt;This option is used to calculate an Fst estimate from Weir and Cockerham’s 1984 paper. This is the preferred calculation of Fst. The provided file must contain a list of individuals (one individual per line) from the VCF file that correspond to one population. This option can be used multiple times to calculate Fst for more than two populations. These files will also be included as “–keep” options. By default, calculations are done on a per-site basis. The output file has the suffix “.weir.fst”.&lt;/p&gt;

&lt;p&gt;–fst-window-size &lt;integer&gt; 
--fst-window-step &lt;integer&gt;&lt;/integer&gt;&lt;/integer&gt;&lt;/p&gt;

&lt;p&gt;These options can be used with “–weir-fst-pop” to do the Fst calculations on a windowed basis instead of a per-site basis. These arguments specify the desired window size and the desired step size between windows.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;输出其它统计&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;–het&lt;/p&gt;

&lt;p&gt;Calculates a measure of heterozygosity on a per-individual basis. Specfically, the inbreeding coefficient, F, is estimated for each individual using a method of moments. The resulting file has the suffix “.het”.&lt;/p&gt;

&lt;p&gt;–hardy&lt;/p&gt;

&lt;p&gt;Reports a p-value for each site from a Hardy-Weinberg Equilibrium test (as defined by Wigginton, Cutler and Abecasis (2005)). The resulting file (with suffix “.hwe”) also contains the Observed numbers of Homozygotes and Heterozygotes and the corresponding Expected numbers under HWE.&lt;/p&gt;

&lt;p&gt;–TajimaD &lt;integer&gt;&lt;/integer&gt;&lt;/p&gt;

&lt;p&gt;Outputs Tajima’s D statistic in bins with size of the specified number. The output file has the suffix “.Tajima.D”.&lt;/p&gt;

&lt;p&gt;–indv-freq-burden&lt;/p&gt;

&lt;p&gt;This option calculates the number of variants within each individual of a specific frequency. The resulting file has the suffix “.ifreqburden”.&lt;/p&gt;

&lt;p&gt;–LROH&lt;/p&gt;

&lt;p&gt;This option will identify and output Long Runs of Homozygosity. The output file has the suffix “.LROH”. This function is experimental, and will use a lot of memory if applied to large datasets.&lt;/p&gt;

&lt;p&gt;–relatedness&lt;/p&gt;

&lt;p&gt;This option is used to calculate and output a relatedness statistic based on the method of Yang et al, Nature Genetics 2010 (doi:10.1038/ng.608). Specifically, calculate the unadjusted Ajk statistic. Expectation of Ajk is zero for individuals within a populations, and one for an individual with themselves. The output file has the suffix “.relatedness”.&lt;/p&gt;

&lt;p&gt;–relatedness2&lt;/p&gt;

&lt;p&gt;This option is used to calculate and output a relatedness statistic based on the method of Manichaikul et al., BIOINFORMATICS 2010 (doi:10.1093/bioinformatics/btq559). The output file has the suffix “.relatedness2”.&lt;/p&gt;

&lt;p&gt;–site-quality&lt;/p&gt;

&lt;p&gt;Generates a file containing the per-site SNP quality, as found in the QUAL column of the VCF file. This file has the suffix “.lqual”.&lt;/p&gt;

&lt;p&gt;–missing-indv&lt;/p&gt;

&lt;p&gt;Generates a file reporting the missingness on a per-individual basis. The file has the suffix “.imiss”.&lt;/p&gt;

&lt;p&gt;–missing-site&lt;/p&gt;

&lt;p&gt;Generates a file reporting the missingness on a per-site basis. The file has the suffix “.lmiss”.&lt;/p&gt;

&lt;p&gt;–SNPdensity &lt;integer&gt;&lt;/integer&gt;&lt;/p&gt;

&lt;p&gt;Calculates the number and density of SNPs in bins of size defined by this option. The resulting output file has the suffix “.snpden”.&lt;/p&gt;

&lt;p&gt;–kept-sites&lt;/p&gt;

&lt;p&gt;Creates a file listing all sites that have been kept after filtering. The file has the suffix “.kept.sites”.&lt;/p&gt;

&lt;p&gt;–removed-sites&lt;/p&gt;

&lt;p&gt;Creates a file listing all sites that have been removed after filtering. The file has the suffix “.removed.sites”.&lt;/p&gt;

&lt;p&gt;–singletons&lt;/p&gt;

&lt;p&gt;This option will generate a file detailing the location of singletons, and the individual they occur in. The file reports both true singletons, and private doubletons (i.e. SNPs where the minor allele only occurs in a single individual and that individual is homozygotic for that allele). The output file has the suffix “.singletons”.&lt;/p&gt;

&lt;p&gt;–hist-indel-len&lt;/p&gt;

&lt;p&gt;This option will generate a histogram file of the length of all indels (including SNPs). It shows both the count and the percentage of all indels for indel lengths that occur at least once in the input file. SNPs are considered indels with length zero. The output file has the suffix “.indel.hist”.&lt;/p&gt;

&lt;p&gt;–hapcount &lt;BED file=&quot;&quot;&gt;&lt;/BED&gt;&lt;/p&gt;

&lt;p&gt;This option will output the number of unique haplotypes within user specified bins, as defined by the BED file. The output file has the suffix “.hapcount”.&lt;/p&gt;

&lt;p&gt;–mendel &lt;PED file=&quot;&quot;&gt;&lt;/PED&gt;&lt;/p&gt;

&lt;p&gt;This option is use to report mendel errors identified in trios. The command requires a PLINK-style PED file, with the first four columns specifying a family ID, the child ID, the father ID, and the mother ID. The output of this command has the suffix “.mendel”.&lt;/p&gt;

&lt;p&gt;–extract-FORMAT-info &lt;string&gt;&lt;/string&gt;&lt;/p&gt;

&lt;p&gt;Extract information from the genotype fields in the VCF file relating to a specfied FORMAT identifier. The resulting output file has the suffix “.&lt;FORMAT_ID&gt;.FORMAT&quot;. For example, the following command would extract the all of the GT (i.e. Genotype) entries:&lt;/FORMAT_ID&gt;&lt;/p&gt;

&lt;p&gt;vcftools –vcf file1.vcf –extract-FORMAT-info GT&lt;/p&gt;

&lt;p&gt;–get-INFO &lt;string&gt;&lt;/string&gt;&lt;/p&gt;

&lt;p&gt;This option is used to extract information from the INFO field in the VCF file. The &lt;string&gt; argument specifies the INFO tag to be extracted, and the option can be used multiple times in order to extract multiple INFO entries. The resulting file, with suffix &quot;.INFO&quot;, contains the required INFO information in a tab-separated table. For example, to extract the NS and DB flags, one would use the command:&lt;/string&gt;&lt;/p&gt;

&lt;p&gt;vcftools –vcf file1.vcf –get-INFO NS –get-INFO DB&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;输出 VCF 格式&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;–recode 
–recode-bcf&lt;/p&gt;

&lt;p&gt;These options are used to generate a new file in either VCF or BCF from the input VCF or BCF file after applying the filtering options specified by the user. The output file has the suffix “.recode.vcf” or “.recode.bcf”. By default, the INFO fields are removed from the output file, as the INFO values may be invalidated by the recoding (e.g. the total depth may need to be recalculated if individuals are removed). This behavior may be overriden by the following options. By default, BCF files are written out as BGZF compressed files.&lt;/p&gt;

&lt;p&gt;–recode-INFO &lt;string&gt; 
--recode-INFO-all&lt;/string&gt;&lt;/p&gt;

&lt;p&gt;These options can be used with the above recode options to define an INFO key name to keep in the output file. This option can be used multiple times to keep more of the INFO fields. The second option is used to keep all INFO values in the original file.&lt;/p&gt;

&lt;p&gt;–contigs &lt;string&gt;&lt;/string&gt;&lt;/p&gt;

&lt;p&gt;This option can be used in conjuction with the –recode-bcf when the input file does not have any contig declarations. This option expects a file name with one contig header per line. These lines are included in the output file.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;输出其它格式&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;–012&lt;/p&gt;

&lt;p&gt;This option outputs the genotypes as a large matrix. Three files are produced. The first, with suffix “.012”, contains the genotypes of each individual on a separate line. Genotypes are represented as 0, 1 and 2, where the number represent that number of non-reference alleles. Missing genotypes are represented by -1. The second file, with suffix “.012.indv” details the individuals included in the main file. The third file, with suffix “.012.pos” details the site locations included in the main file.&lt;/p&gt;

&lt;p&gt;–IMPUTE&lt;/p&gt;

&lt;p&gt;This option outputs phased haplotypes in IMPUTE reference-panel format. As IMPUTE requires phased data, using this option also implies –phased. Unphased individuals and genotypes are therefore excluded. Only bi-allelic sites are included in the output. Using this option generates three files. The IMPUTE haplotype file has the suffix “.impute.hap”, and the IMPUTE legend file has the suffix “.impute.hap.legend”. The third file, with suffix “.impute.hap.indv”, details the individuals included in the haplotype file, although this file is not needed by IMPUTE.&lt;/p&gt;

&lt;p&gt;–ldhat 
–ldhat-geno&lt;/p&gt;

&lt;p&gt;These options output data in LDhat format. This option requires the “–chr” filter option to also be used. The first option outputs phased data only, and therefore also implies “–phased” be used, leading to unphased individuals and genotypes being excluded. The second option treats all of the data as unphased, and therefore outputs LDhat files in genotype/unphased format. Two output files are generated with the suffixes “.ldhat.sites” and “.ldhat.locs”, which correspond to the LDhat “sites” and “locs” input files respectively.&lt;/p&gt;

&lt;p&gt;–BEAGLE-GL 
–BEAGLE-PL&lt;/p&gt;

&lt;p&gt;These options output genotype likelihood information for input into the BEAGLE program. The VCF file is required to contain FORMAT fields with “GL” or “PL” tags, which can generally be output by SNP callers such as the GATK. Use of this option requires a chromosome to be specified via the “–chr” option. The resulting output file has the suffix “.BEAGLE.GL” or “.BEAGLE.PL” and contains genotype likelihoods for biallelic sites. This file is suitable for input into BEAGLE via the “like=” argument.&lt;/p&gt;

&lt;p&gt;–plink 
–plink-tped 
–chrom-map&lt;/p&gt;

&lt;p&gt;这些参数输出 PLINK PED 格式，产生两个文件，’.ped’ 和 ‘.map‘。仅双等位基因位点会被输出。具体请看 PLINK 说明文件。
注意：第一个选项对大数据集很慢。用户可以作用 ’–chr‘ 参数分割文件，或者使用 ‘–plink-tped’ 参数输出 PLINK 转置格式的文件，后缀为 ‘.tped’ 和 ‘.tfam’。
For usage with variant sites in species other than humans, the –chrom-map option may be used to specify a file name that has a tab-delimited mapping of chromosome name to a desired integer value with one line per chromosome. This file must contain a mapping for every chromosome value found in the file.&lt;/p&gt;

&lt;h4 id=&quot;section-6&quot;&gt;2.6. 比较参数&lt;/h4&gt;

&lt;p&gt;These options are used to compare the original variant file to another variant file and output the results. All of the diff functions require both files to contain the same chromosomes and that the files be sorted in the same order. If one of the files contains chromosomes that the other file does not, use the –not-chr filter to remove them from the analysis.&lt;/p&gt;

&lt;p&gt;DIFF VCF FILE&lt;/p&gt;

&lt;p&gt;–diff &lt;filename&gt; 
--gzdiff &lt;filename&gt; 
--diff-bcf &lt;filename&gt;&lt;/filename&gt;&lt;/filename&gt;&lt;/filename&gt;&lt;/p&gt;

&lt;p&gt;These options compare the original input file to this specified VCF, gzipped VCF, or BCF file. These options must be specified with one additional option described below in order to specify what type of comparison is to be performed. See the examples section for typical usage.&lt;/p&gt;

&lt;p&gt;DIFF OPTIONS&lt;/p&gt;

&lt;p&gt;–diff-site&lt;/p&gt;

&lt;p&gt;Outputs the sites that are common / unique to each file. The output file has the suffix “.diff.sites_in_files”.&lt;/p&gt;

&lt;p&gt;–diff-indv&lt;/p&gt;

&lt;p&gt;Outputs the individuals that are common / unique to each file. The output file has the suffix “.diff.indv_in_files”.&lt;/p&gt;

&lt;p&gt;–diff-site-discordance&lt;/p&gt;

&lt;p&gt;This option calculates discordance on a site by site basis. The resulting output file has the suffix “.diff.sites”.&lt;/p&gt;

&lt;p&gt;–diff-indv-discordance&lt;/p&gt;

&lt;p&gt;This option calculates discordance on a per-individual basis. The resulting output file has the suffix “.diff.indv”.&lt;/p&gt;

&lt;p&gt;–diff-indv-map &lt;filename&gt;&lt;/filename&gt;&lt;/p&gt;

&lt;p&gt;This option allows the user to specify a mapping of individual IDs in the second file to those in the first file. The program expects the file to contain a tab-delimited line containing an individual’s name in file one followed by that same individual’s name in file two with one mapping per line.&lt;/p&gt;

&lt;p&gt;–diff-discordance-matrix&lt;/p&gt;

&lt;p&gt;This option calculates a discordance matrix. This option only works with bi-allelic loci with matching alleles that are present in both files. The resulting output file has the suffix “.diff.discordance.matrix”.&lt;/p&gt;

&lt;p&gt;–diff-switch-error&lt;/p&gt;

&lt;p&gt;This option calculates phasing errors (specifically “switch errors”). This option creates an output file describing switch errors found between sites, with suffix “.diff.switch”.&lt;/p&gt;
</description>
        <pubDate>Mon, 24 Apr 2017 00:00:00 +0800</pubDate>
        <link>http://liuqibao.me/2017/04/24/vcftools-introduction/</link>
        <guid isPermaLink="true">http://liuqibao.me/2017/04/24/vcftools-introduction/</guid>
        
        <category>使用手册</category>
        
        
        <category>bioinformatics</category>
        
      </item>
    
      <item>
        <title>sratoolkit 工具的简单使用</title>
        <description>&lt;p&gt;sratoolkit 是 NCBI 的一个工具包，它包含很多数据格式转换的功能：
- Frequently Used Tools:
fastq-dump: Convert SRA data into fastq format&lt;/p&gt;

&lt;p&gt;prefetch: Allows command-line downloading of SRA, dbGaP, and ADSP data&lt;/p&gt;

&lt;p&gt;sam-dump: Convert SRA data to sam format&lt;/p&gt;

&lt;p&gt;sra-pileup: Generate pileup statistics on aligned SRA data&lt;/p&gt;

&lt;p&gt;vdb-config: Display and modify VDB configuration information&lt;/p&gt;

&lt;p&gt;vdb-decrypt: Decrypt non-SRA dbGaP data (“phenotype data”)&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Additional Tools:
abi-dump: Convert SRA data into ABI format (csfasta / qual)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;illumina-dump: Convert SRA data into Illumina native formats (qseq, etc.)&lt;/p&gt;

&lt;p&gt;sff-dump: Convert SRA data to sff format&lt;/p&gt;

&lt;p&gt;sra-stat: Generate statistics about SRA data (quality distribution, etc.)&lt;/p&gt;

&lt;p&gt;vdb-dump: Output the native VDB format of SRA data.&lt;/p&gt;

&lt;p&gt;vdb-encrypt: Encrypt non-SRA dbGaP data (“phenotype data”)&lt;/p&gt;

&lt;p&gt;vdb-validate: Validate the integrity of downloaded SRA data&lt;/p&gt;

&lt;p&gt;但是我常用的只有 fastq-dump 功能，就量将 sra 格式的压缩数据转换为 fastq 格式，我想大部分人也只用这个功能（都是被 NCBI 逼的！！）&lt;/p&gt;

&lt;h3 id=&quot;section&quot;&gt;1. 安装&lt;/h3&gt;
&lt;p&gt;sratools 的安装很简单，直接下载适合你版本的包，解压可用，不用编译，为了方便也可以放到环境变量下
我的系统是 Ubuntu，所以：
&lt;code class=&quot;highlighter-rouge&quot;&gt;
wget https://ftp-trace.ncbi.nlm.nih.gov/sra/sdk/2.8.2-1/sratoolkit.2.8.2-1-ubuntu64.tar.gz
tar zxvf sratoolkit.*
&lt;/code&gt;
所有的工具都在 sratoolkit 的 /bin 目录下&lt;/p&gt;

&lt;h3 id=&quot;fastq-dump-&quot;&gt;2. fastq-dump 的使用&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;fastq-dump [options] &amp;lt;path/file&amp;gt; [&amp;lt;path/file&amp;gt; ...]
fastq-dump [options] &amp;lt;accession&amp;gt;
&lt;/div&gt;
&lt;p&gt;使用比较简单，需要注意的是对于单端测序和双端测序，软件给了不同的参数。&lt;/p&gt;

&lt;p&gt;–split-file：将文件分为两个部分，后缀为相应数字。
–split-3: 将文件分为三个部分，’&lt;em&gt;_1.fastaq’ 和 ’&lt;/em&gt;_2.fastq‘ 对双端测序数据是必有的，如果有未配对的数据，会放在 ’*。fastq‘ 文件中。&lt;/p&gt;

&lt;p&gt;所以，我的理解是，测序质量较好的话，对于双端测序，这两个参数产生的结果一样，‘–split-3’ 没有产生未配对文件。
在 biostar 上也有一些解释：
–split-3 will output 1,2, or 3 files: 1 file means the data is not paired. 2 files means paired data with no low quality reads or reads shorter than 20bp. 3 files means paired data, but asymmetric quality or trimming.  in the case of 3 file output, most people ignore &lt;file&gt;.fastq . this is a very old formatting option introduced for phase1 of 1000genomes.  before there were many analysis or trimming utilities and SRA submissions  always contained all reads from sequencer. back then nobody wanted to throw anything away. you might want to use --split-files instead. that will give only 2 files for paired-end data. or not bother with text output and access the data directly using sra ngs apis.&lt;/file&gt;&lt;/p&gt;
</description>
        <pubDate>Mon, 24 Apr 2017 00:00:00 +0800</pubDate>
        <link>http://liuqibao.me/2017/04/24/sratoolkit-instrodution/</link>
        <guid isPermaLink="true">http://liuqibao.me/2017/04/24/sratoolkit-instrodution/</guid>
        
        <category>使用手册</category>
        
        
        <category>bioinformatics</category>
        
      </item>
    
  </channel>
</rss>
